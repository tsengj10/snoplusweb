{% extends "base.html" %}
{% load staticfiles %}
{% block title %}
Bookings list
{% endblock %}
{% block head %}
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href='{% static "js/jquery.dataTables.min.css" %}'>
<link rel="stylesheet" href='{% static "js/buttons.dataTables.min.css" %}'>
<link rel="stylesheet" href='{% static "js/jquery-ui-1.11.4/jquery-ui.min.css" %}'>
<script src='{% static "js/jquery-1.12.0.min.js" %}'></script>
<script src='{% static "js/jquery.dataTables.min.js" %}'></script>
<script src='{% static "js/dataTables.buttons.min.js" %}'></script>
<script src='{% static "js/buttons.colVis.min.js" %}'></script>
<script src='{% static "js/buttons.print.min.js" %}'></script>
<script src='{% static "js/jquery-ui-1.11.4/jquery-ui.min.js" %}'></script>

<style>
input.dpicker { width: 6em }
</style>
{% endblock %}
{% block content %}

<table>
<tr>
  <td>
    <select id='res'>
      <option value=""></option>
      {% for res in resources %}
      <option value="{{ res.pk }}">{{ res.name }}</option>
      {% endfor %}
    </select>
  </td>
  <td>
    <input id='startdate' class='dpicker' type='text'>
  </td>
  <td>
    <input id='stopdate' class='dpicker' type='text'>
  </td>
</tr>
<tr>
  <td>
  </td>
  <td>
    <input id='starttime' type='text'>
  </td>
  <td>
    <input id='stoptime' type='text'>
  </td>
</table>
<button type='button' id='requestbutton'>Request</button>

<table border=1>
<tr>
  <th>Approved</th>
  <th>Begin date</th>
  <th>End date</th>
  <th>Resource</th>
  <th>Name</th>
</tr>
{% for booking in bookings %}
<tr>
  <td>{% if booking.approval != None %}{{ booking.approval.user }}{% else %}No{% endif %}
  <td>{{ booking.begin_time }}</td>
  <td>{{ booking.end_time }}</td>
  <td>{{ booking.resource }}</td>
  <td>{{ booking.user }}</td>
</tr>
{% endfor %}
</table>

{% endblock %}
{% block scripts %}
<script>
$(function() {
  $('#startdate').datepicker('getDate');
  $('#stopdate').datepicker('getDate');
});
</script>
{% endblock %}
